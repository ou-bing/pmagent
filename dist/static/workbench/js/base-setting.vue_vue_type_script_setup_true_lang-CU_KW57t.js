var c=(l,s,t)=>new Promise((r,o)=>{var i=e=>{try{n(t.next(e))}catch(a){o(a)}},m=e=>{try{n(t.throw(e))}catch(a){o(a)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,m);n((t=t.apply(l,s)).next())});import{E as b,F as h,G as v,H as g}from"./bootstrap-Cg7-XUCZ.js";import{d as p,J as w,c as d,e as S,f as _,H as f,k as u,G as y,I as N,r as x,o as k,z as A}from"../jse/index-index-C-XMneWz.js";import{u as B}from"./use-vben-form-iXonrImG.js";const C=["onKeydown"],F=p({__name:"base-setting",props:{formSchema:{default:()=>[]}},emits:["submit"],setup(l,{expose:s,emit:t}){const r=l,o=t,[i,m]=B(w({commonConfig:{componentProps:{class:"w-full"}},layout:"horizontal",schema:d(()=>r.formSchema),showDefaultActions:!1}));function n(){return c(this,null,function*(){const{valid:e}=yield m.validate(),a=yield m.getValues();e&&o("submit",a)})}return s({getFormApi:()=>m}),(e,a)=>(_(),S("div",{onKeydown:h(v(n,["prevent"]),["enter"])},[f(u(i)),f(u(b),{type:"submit",class:"mt-4",onClick:n},{default:y(()=>[...a[0]||(a[0]=[N(" 更新基本信息 ",-1)])]),_:1})],40,C))}}),E=p({__name:"base-setting",setup(l){const s=x(),t=[{label:"管理员",value:"super"},{label:"用户",value:"user"},{label:"测试",value:"test"}],r=d(()=>[{fieldName:"realName",component:"Input",label:"姓名"},{fieldName:"username",component:"Input",label:"用户名"},{fieldName:"roles",component:"Select",componentProps:{mode:"tags",options:t},label:"角色"},{fieldName:"introduction",component:"Textarea",label:"个人简介"}]);return k(()=>c(null,null,function*(){const o=yield g();s.value.getFormApi().setValues(o)})),(o,i)=>(_(),A(u(F),{ref_key:"profileBaseSettingRef",ref:s,"form-schema":r.value},null,8,["form-schema"]))}});export{E as _};
