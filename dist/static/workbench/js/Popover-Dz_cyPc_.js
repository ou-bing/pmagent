import{ak as le,a6 as ue,cj as ne,ck as te,cl as sr,cm as lr,cn as ur,co as $e,cp as L,cq as qe,cr as Ae,c4 as dr,cs as U,ct as we,cu as Ye,cv as Ee,cw as fr,cx as Re,cy as xe,cz as Y,cA as cr,cB as Me,cC as vr,cD as hr,cE as gr,cF as pr,cG as wr,cH as mr,cI as yr,r as D,b as B,f as de,g as fe,h as V,cJ as br,aw as Sr,u as $r,i as Ce,n as Ar,aA as Be,az as Cr,j as Or,aC as Ie,cK as _r,v as De,cL as Tr,w as ce,aW as Pr,aJ as Er,aI as Rr,aH as xr,cM as Mr,aO as Br,cN as Ir,aB as Dr,a2 as ze,A as J}from"./bootstrap-DNQXlPT3.js";import{e as zr,u as ee,B as Fr,V as Lr}from"./Follower-DO9-Tcow.js";import{c as K,d as Ze,h as $,r as F,W as Qe,i as Nr,a1 as Hr,w as Wr,B as Z,L as Gr,a2 as Ve,F as Kr,U as Q,aG as Ur,aH as kr}from"../jse/index-index-D6kz6zuY.js";import{u as jr}from"./use-merged-state-BP59fNLx.js";function Xr(e,r){return K(()=>{for(const n of r)if(e[n]!==void 0)return e[n];return e[r[r.length-1]]})}const G="@@mmoContext",Jr={mounted(e,{value:r}){e[G]={handler:void 0},typeof r=="function"&&(e[G].handler=r,ue("mousemoveoutside",e,r))},updated(e,{value:r}){const n=e[G];typeof r=="function"?n.handler?n.handler!==r&&(le("mousemoveoutside",e,n.handler),n.handler=r,ue("mousemoveoutside",e,r)):(e[G].handler=r,ue("mousemoveoutside",e,r)):n.handler&&(le("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:r}=e[G];r&&le("mousemoveoutside",e,r),e[G].handler=void 0}},qr=/^(\d|\.)+$/,Fe=/(\d|\.)+/;function ve(e,{c:r=1,offset:n=0,attachPx:t=!0}={}){if(typeof e=="number"){const o=(e+n)*r;return o===0?"0":`${o}px`}else if(typeof e=="string")if(qr.test(e)){const o=(Number(e)+n)*r;return t?o===0?"0":`${o}px`:`${o}`}else{const o=Fe.exec(e);return o?e.replace(Fe,String((Number(o[0])+n)*r)):e}return e}let he;function Yr(){return he===void 0&&(he=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),he}var me=ne(te,"WeakMap"),Zr=sr(Object.keys,Object),Qr=Object.prototype,Vr=Qr.hasOwnProperty;function en(e){if(!lr(e))return Zr(e);var r=[];for(var n in Object(e))Vr.call(e,n)&&n!="constructor"&&r.push(n);return r}function Oe(e){return $e(e)?ur(e):en(e)}var rn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nn=/^\w*$/;function _e(e,r){if(L(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||qe(e)?!0:nn.test(e)||!rn.test(e)||r!=null&&e in Object(r)}var tn="Expected a function";function Te(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(tn);var n=function(){var t=arguments,o=r?r.apply(this,t):t[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,t);return n.cache=a.set(o,i)||a,i};return n.cache=new(Te.Cache||Ae),n}Te.Cache=Ae;var on=500;function an(e){var r=Te(e,function(t){return n.size===on&&n.clear(),t}),n=r.cache;return r}var sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/\\(\\)?/g,un=an(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(sn,function(n,t,o,a){r.push(o?a.replace(ln,"$1"):t||n)}),r});function er(e,r){return L(e)?e:_e(e,r)?[e]:un(dr(e))}function oe(e){if(typeof e=="string"||qe(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function rr(e,r){r=er(r,e);for(var n=0,t=r.length;e!=null&&n<t;)e=e[oe(r[n++])];return n&&n==t?e:void 0}function dn(e,r,n){var t=e==null?void 0:rr(e,r);return t===void 0?n:t}function fn(e,r){for(var n=-1,t=r.length,o=e.length;++n<t;)e[o+n]=r[n];return e}function cn(e,r){for(var n=-1,t=e==null?0:e.length,o=0,a=[];++n<t;){var i=e[n];r(i,n,e)&&(a[o++]=i)}return a}function vn(){return[]}var hn=Object.prototype,gn=hn.propertyIsEnumerable,Le=Object.getOwnPropertySymbols,pn=Le?function(e){return e==null?[]:(e=Object(e),cn(Le(e),function(r){return gn.call(e,r)}))}:vn;function wn(e,r,n){var t=r(e);return L(e)?t:fn(t,n(e))}function Ne(e){return wn(e,Oe,pn)}var ye=ne(te,"DataView"),be=ne(te,"Promise"),Se=ne(te,"Set"),He="[object Map]",mn="[object Object]",We="[object Promise]",Ge="[object Set]",Ke="[object WeakMap]",Ue="[object DataView]",yn=U(ye),bn=U(we),Sn=U(be),$n=U(Se),An=U(me),z=Ye;(ye&&z(new ye(new ArrayBuffer(1)))!=Ue||we&&z(new we)!=He||be&&z(be.resolve())!=We||Se&&z(new Se)!=Ge||me&&z(new me)!=Ke)&&(z=function(e){var r=Ye(e),n=r==mn?e.constructor:void 0,t=n?U(n):"";if(t)switch(t){case yn:return Ue;case bn:return He;case Sn:return We;case $n:return Ge;case An:return Ke}return r});var Cn="__lodash_hash_undefined__";function On(e){return this.__data__.set(e,Cn),this}function _n(e){return this.__data__.has(e)}function re(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new Ae;++r<n;)this.add(e[r])}re.prototype.add=re.prototype.push=On;re.prototype.has=_n;function Tn(e,r){for(var n=-1,t=e==null?0:e.length;++n<t;)if(r(e[n],n,e))return!0;return!1}function Pn(e,r){return e.has(r)}var En=1,Rn=2;function nr(e,r,n,t,o,a){var i=n&En,s=e.length,d=r.length;if(s!=d&&!(i&&d>s))return!1;var f=a.get(e),u=a.get(r);if(f&&u)return f==r&&u==e;var g=-1,h=!0,m=n&Rn?new re:void 0;for(a.set(e,r),a.set(r,e);++g<s;){var b=e[g],p=r[g];if(t)var T=i?t(p,b,g,r,e,a):t(b,p,g,e,r,a);if(T!==void 0){if(T)continue;h=!1;break}if(m){if(!Tn(r,function(w,_){if(!Pn(m,_)&&(b===w||o(b,w,n,t,a)))return m.push(_)})){h=!1;break}}else if(!(b===p||o(b,p,n,t,a))){h=!1;break}}return a.delete(e),a.delete(r),h}function xn(e){var r=-1,n=Array(e.size);return e.forEach(function(t,o){n[++r]=[o,t]}),n}function Mn(e){var r=-1,n=Array(e.size);return e.forEach(function(t){n[++r]=t}),n}var Bn=1,In=2,Dn="[object Boolean]",zn="[object Date]",Fn="[object Error]",Ln="[object Map]",Nn="[object Number]",Hn="[object RegExp]",Wn="[object Set]",Gn="[object String]",Kn="[object Symbol]",Un="[object ArrayBuffer]",kn="[object DataView]",ke=Ee?Ee.prototype:void 0,ge=ke?ke.valueOf:void 0;function jn(e,r,n,t,o,a,i){switch(n){case kn:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Un:return!(e.byteLength!=r.byteLength||!a(new Re(e),new Re(r)));case Dn:case zn:case Nn:return fr(+e,+r);case Fn:return e.name==r.name&&e.message==r.message;case Hn:case Gn:return e==r+"";case Ln:var s=xn;case Wn:var d=t&Bn;if(s||(s=Mn),e.size!=r.size&&!d)return!1;var f=i.get(e);if(f)return f==r;t|=In,i.set(e,r);var u=nr(s(e),s(r),t,o,a,i);return i.delete(e),u;case Kn:if(ge)return ge.call(e)==ge.call(r)}return!1}var Xn=1,Jn=Object.prototype,qn=Jn.hasOwnProperty;function Yn(e,r,n,t,o,a){var i=n&Xn,s=Ne(e),d=s.length,f=Ne(r),u=f.length;if(d!=u&&!i)return!1;for(var g=d;g--;){var h=s[g];if(!(i?h in r:qn.call(r,h)))return!1}var m=a.get(e),b=a.get(r);if(m&&b)return m==r&&b==e;var p=!0;a.set(e,r),a.set(r,e);for(var T=i;++g<d;){h=s[g];var w=e[h],_=r[h];if(t)var N=i?t(_,w,h,r,e,a):t(w,_,h,e,r,a);if(!(N===void 0?w===_||o(w,_,n,t,a):N)){p=!1;break}T||(T=h=="constructor")}if(p&&!T){var E=e.constructor,R=r.constructor;E!=R&&"constructor"in e&&"constructor"in r&&!(typeof E=="function"&&E instanceof E&&typeof R=="function"&&R instanceof R)&&(p=!1)}return a.delete(e),a.delete(r),p}var Zn=1,je="[object Arguments]",Xe="[object Array]",q="[object Object]",Qn=Object.prototype,Je=Qn.hasOwnProperty;function Vn(e,r,n,t,o,a){var i=L(e),s=L(r),d=i?Xe:z(e),f=s?Xe:z(r);d=d==je?q:d,f=f==je?q:f;var u=d==q,g=f==q,h=d==f;if(h&&xe(e)){if(!xe(r))return!1;i=!0,u=!1}if(h&&!u)return a||(a=new Y),i||cr(e)?nr(e,r,n,t,o,a):jn(e,r,d,n,t,o,a);if(!(n&Zn)){var m=u&&Je.call(e,"__wrapped__"),b=g&&Je.call(r,"__wrapped__");if(m||b){var p=m?e.value():e,T=b?r.value():r;return a||(a=new Y),o(p,T,n,t,a)}}return h?(a||(a=new Y),Yn(e,r,n,t,o,a)):!1}function Pe(e,r,n,t,o){return e===r?!0:e==null||r==null||!Me(e)&&!Me(r)?e!==e&&r!==r:Vn(e,r,n,t,Pe,o)}var et=1,rt=2;function nt(e,r,n,t){var o=n.length,a=o;if(e==null)return!a;for(e=Object(e);o--;){var i=n[o];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){i=n[o];var s=i[0],d=e[s],f=i[1];if(i[2]){if(d===void 0&&!(s in e))return!1}else{var u=new Y,g;if(!(g===void 0?Pe(f,d,et|rt,t,u):g))return!1}}return!0}function tr(e){return e===e&&!vr(e)}function tt(e){for(var r=Oe(e),n=r.length;n--;){var t=r[n],o=e[t];r[n]=[t,o,tr(o)]}return r}function or(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}function ot(e){var r=tt(e);return r.length==1&&r[0][2]?or(r[0][0],r[0][1]):function(n){return n===e||nt(n,e,r)}}function at(e,r){return e!=null&&r in Object(e)}function it(e,r,n){r=er(r,e);for(var t=-1,o=r.length,a=!1;++t<o;){var i=oe(r[t]);if(!(a=e!=null&&n(e,i)))break;e=e[i]}return a||++t!=o?a:(o=e==null?0:e.length,!!o&&hr(o)&&gr(i,o)&&(L(e)||pr(e)))}function st(e,r){return e!=null&&it(e,r,at)}var lt=1,ut=2;function dt(e,r){return _e(e)&&tr(r)?or(oe(e),r):function(n){var t=dn(n,e);return t===void 0&&t===r?st(n,e):Pe(r,t,lt|ut)}}function ft(e){return function(r){return r==null?void 0:r[e]}}function ct(e){return function(r){return rr(r,e)}}function vt(e){return _e(e)?ft(oe(e)):ct(e)}function ht(e){return typeof e=="function"?e:e==null?wr:typeof e=="object"?L(e)?dt(e[0],e[1]):ot(e):vt(e)}function gt(e,r){return e&&mr(e,r,Oe)}function pt(e,r){return function(n,t){if(n==null)return n;if(!$e(n))return e(n,t);for(var o=n.length,a=-1,i=Object(n);++a<o&&t(i[a],a,i)!==!1;);return n}}var wt=pt(gt);function mt(e,r){var n=-1,t=$e(e)?Array(e.length):[];return wt(e,function(o,a,i){t[++n]=r(o,a,i)}),t}function yt(e,r){var n=L(e)?yr:mt;return n(e,ht(r))}const pe={top:"bottom",bottom:"top",left:"right",right:"left"},y="var(--n-arrow-height) * 1.414",bt=D([B("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[D(">",[B("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),de("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[de("scrollable",[de("show-header-or-footer","padding: var(--n-padding);")])]),fe("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),fe("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),V("scrollable, show-header-or-footer",[fe("content",`
 padding: var(--n-padding);
 `)])]),B("popover-shared",`
 transform-origin: inherit;
 `,[B("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[B("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${y});
 height: calc(${y});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),D("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),D("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),D("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),D("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),P("top-start",`
 top: calc(${y} / -2);
 left: calc(${M("top-start")} - var(--v-offset-left));
 `),P("top",`
 top: calc(${y} / -2);
 transform: translateX(calc(${y} / -2)) rotate(45deg);
 left: 50%;
 `),P("top-end",`
 top: calc(${y} / -2);
 right: calc(${M("top-end")} + var(--v-offset-left));
 `),P("bottom-start",`
 bottom: calc(${y} / -2);
 left: calc(${M("bottom-start")} - var(--v-offset-left));
 `),P("bottom",`
 bottom: calc(${y} / -2);
 transform: translateX(calc(${y} / -2)) rotate(45deg);
 left: 50%;
 `),P("bottom-end",`
 bottom: calc(${y} / -2);
 right: calc(${M("bottom-end")} + var(--v-offset-left));
 `),P("left-start",`
 left: calc(${y} / -2);
 top: calc(${M("left-start")} - var(--v-offset-top));
 `),P("left",`
 left: calc(${y} / -2);
 transform: translateY(calc(${y} / -2)) rotate(45deg);
 top: 50%;
 `),P("left-end",`
 left: calc(${y} / -2);
 bottom: calc(${M("left-end")} + var(--v-offset-top));
 `),P("right-start",`
 right: calc(${y} / -2);
 top: calc(${M("right-start")} - var(--v-offset-top));
 `),P("right",`
 right: calc(${y} / -2);
 transform: translateY(calc(${y} / -2)) rotate(45deg);
 top: 50%;
 `),P("right-end",`
 right: calc(${y} / -2);
 bottom: calc(${M("right-end")} + var(--v-offset-top));
 `),...yt({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,r)=>{const n=["right","left"].includes(r),t=n?"width":"height";return e.map(o=>{const a=o.split("-")[1]==="end",s=`calc((${`var(--v-target-${t}, 0px)`} - ${y}) / 2)`,d=M(o);return D(`[v-placement="${o}"] >`,[B("popover-shared",[V("center-arrow",[B("popover-arrow",`${r}: calc(max(${s}, ${d}) ${a?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function M(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function P(e,r){const n=e.split("-")[0],t=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return D(`[v-placement="${e}"] >`,[B("popover-shared",`
 margin-${pe[n]}: var(--n-space);
 `,[V("show-arrow",`
 margin-${pe[n]}: var(--n-space-arrow);
 `),V("overlap",`
 margin: 0;
 `),br("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${pe[n]}: auto;
 ${t}
 `,[B("popover-arrow",r)])])])}const ar=Object.assign(Object.assign({},Ce.props),{to:ee.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function St({arrowClass:e,arrowStyle:r,arrowWrapperClass:n,arrowWrapperStyle:t,clsPrefix:o}){return $("div",{key:"__popover-arrow__",style:t,class:[`${o}-popover-arrow-wrapper`,n]},$("div",{class:[`${o}-popover-arrow`,e],style:r}))}const $t=Ze({name:"PopoverBody",inheritAttrs:!1,props:ar,setup(e,{slots:r,attrs:n}){const{namespaceRef:t,mergedClsPrefixRef:o,inlineThemeDisabled:a,mergedRtlRef:i}=$r(e),s=Ce("Popover","-popover",bt,_r,e,o),d=Ar("Popover",i,o),f=F(null),u=Nr("NPopover"),g=F(null),h=F(e.show),m=F(!1);Qe(()=>{const{show:v}=e;v&&!Yr()&&!e.internalDeactivateImmediately&&(m.value=!0)});const b=K(()=>{const{trigger:v,onClickoutside:A}=e,O=[],{positionManuallyRef:{value:c}}=u;return c||(v==="click"&&!A&&O.push([Be,W,void 0,{capture:!0}]),v==="hover"&&O.push([Jr,R])),A&&O.push([Be,W,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&m.value)&&O.push([Cr,e.show]),O}),p=K(()=>{const{common:{cubicBezierEaseInOut:v,cubicBezierEaseIn:A,cubicBezierEaseOut:O},self:{space:c,spaceArrow:k,padding:X,fontSize:l,textColor:S,dividerColor:C,color:I,boxShadow:H,borderRadius:ie,arrowHeight:se,arrowOffset:x,arrowOffsetVertical:ir}}=s.value;return{"--n-box-shadow":H,"--n-bezier":v,"--n-bezier-ease-in":A,"--n-bezier-ease-out":O,"--n-font-size":l,"--n-text-color":S,"--n-color":I,"--n-divider-color":C,"--n-border-radius":ie,"--n-arrow-height":se,"--n-arrow-offset":x,"--n-arrow-offset-vertical":ir,"--n-padding":X,"--n-space":c,"--n-space-arrow":k}}),T=K(()=>{const v=e.width==="trigger"?void 0:ve(e.width),A=[];v&&A.push({width:v});const{maxWidth:O,minWidth:c}=e;return O&&A.push({maxWidth:ve(O)}),c&&A.push({maxWidth:ve(c)}),a||A.push(p.value),A}),w=a?Or("popover",void 0,p,e):void 0;u.setBodyInstance({syncPosition:_}),Hr(()=>{u.setBodyInstance(null)}),Wr(Z(e,"show"),v=>{e.animated||(v?h.value=!0:h.value=!1)});function _(){var v;(v=f.value)===null||v===void 0||v.syncPosition()}function N(v){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&u.handleMouseEnter(v)}function E(v){e.trigger==="hover"&&e.keepAliveOnHover&&u.handleMouseLeave(v)}function R(v){e.trigger==="hover"&&!j().contains(Ie(v))&&u.handleMouseMoveOutside(v)}function W(v){(e.trigger==="click"&&!j().contains(Ie(v))||e.onClickoutside)&&u.handleClickOutside(v)}function j(){return u.getTriggerElement()}Q(Er,g),Q(Rr,null),Q(xr,null);function ae(){if(w==null||w.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&m.value))return null;let A;const O=u.internalRenderBodyRef.value,{value:c}=o;if(O)A=O([`${c}-popover-shared`,(d==null?void 0:d.value)&&`${c}-popover--rtl`,w==null?void 0:w.themeClass.value,e.overlap&&`${c}-popover-shared--overlap`,e.showArrow&&`${c}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${c}-popover-shared--center-arrow`],g,T.value,N,E);else{const{value:k}=u.extraClassRef,{internalTrapFocus:X}=e,l=!De(r.header)||!De(r.footer),S=()=>{var C,I;const H=l?$(Kr,null,ce(r.header,x=>x?$("div",{class:[`${c}-popover__header`,e.headerClass],style:e.headerStyle},x):null),ce(r.default,x=>x?$("div",{class:[`${c}-popover__content`,e.contentClass],style:e.contentStyle},r):null),ce(r.footer,x=>x?$("div",{class:[`${c}-popover__footer`,e.footerClass],style:e.footerStyle},x):null)):e.scrollable?(C=r.default)===null||C===void 0?void 0:C.call(r):$("div",{class:[`${c}-popover__content`,e.contentClass],style:e.contentStyle},r),ie=e.scrollable?$(Pr,{themeOverrides:s.value.peerOverrides.Scrollbar,theme:s.value.peers.Scrollbar,contentClass:l?void 0:`${c}-popover__content ${(I=e.contentClass)!==null&&I!==void 0?I:""}`,contentStyle:l?void 0:e.contentStyle},{default:()=>H}):H,se=e.showArrow?St({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:c}):null;return[ie,se]};A=$("div",Gr({class:[`${c}-popover`,`${c}-popover-shared`,(d==null?void 0:d.value)&&`${c}-popover--rtl`,w==null?void 0:w.themeClass.value,k.map(C=>`${c}-${C}`),{[`${c}-popover--scrollable`]:e.scrollable,[`${c}-popover--show-header-or-footer`]:l,[`${c}-popover--raw`]:e.raw,[`${c}-popover-shared--overlap`]:e.overlap,[`${c}-popover-shared--show-arrow`]:e.showArrow,[`${c}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:g,style:T.value,onKeydown:u.handleKeydown,onMouseenter:N,onMouseleave:E},n),X?$(Tr,{active:e.show,autoFocus:!0},{default:S}):S())}return Ve(A,b.value)}return{displayed:m,namespace:t,isMounted:u.isMountedRef,zIndex:u.zIndexRef,followerRef:f,adjustedTo:ee(e),followerEnabled:h,renderContentNode:ae}},render(){return $(zr,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===ee.tdkey},{default:()=>this.animated?$(Sr,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),At=Object.keys(ar),Ct={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Ot(e,r,n){Ct[r].forEach(t=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[t],a=n[t];o?e.props[t]=(...i)=>{o(...i),a(...i)}:e.props[t]=a})}const _t={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:ee.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Tt=Object.assign(Object.assign(Object.assign({},Ce.props),_t),{internalOnAfterLeave:Function,internalRenderBody:Function}),Mt=Ze({name:"Popover",inheritAttrs:!1,props:Tt,slots:Object,__popover__:!0,setup(e){const r=Dr(),n=F(null),t=K(()=>e.show),o=F(e.defaultShow),a=jr(t,o),i=ze(()=>e.disabled?!1:a.value),s=()=>{if(e.disabled)return!0;const{getDisabled:l}=e;return!!(l!=null&&l())},d=()=>s()?!1:a.value,f=Xr(e,["arrow","showArrow"]),u=K(()=>e.overlap?!1:f.value);let g=null;const h=F(null),m=F(null),b=ze(()=>e.x!==void 0&&e.y!==void 0);function p(l){const{"onUpdate:show":S,onUpdateShow:C,onShow:I,onHide:H}=e;o.value=l,S&&J(S,l),C&&J(C,l),l&&I&&J(I,!0),l&&H&&J(H,!1)}function T(){g&&g.syncPosition()}function w(){const{value:l}=h;l&&(window.clearTimeout(l),h.value=null)}function _(){const{value:l}=m;l&&(window.clearTimeout(l),m.value=null)}function N(){const l=s();if(e.trigger==="focus"&&!l){if(d())return;p(!0)}}function E(){const l=s();if(e.trigger==="focus"&&!l){if(!d())return;p(!1)}}function R(){const l=s();if(e.trigger==="hover"&&!l){if(_(),h.value!==null||d())return;const S=()=>{p(!0),h.value=null},{delay:C}=e;C===0?S():h.value=window.setTimeout(S,C)}}function W(){const l=s();if(e.trigger==="hover"&&!l){if(w(),m.value!==null||!d())return;const S=()=>{p(!1),m.value=null},{duration:C}=e;C===0?S():m.value=window.setTimeout(S,C)}}function j(){W()}function ae(l){var S;d()&&(e.trigger==="click"&&(w(),_(),p(!1)),(S=e.onClickoutside)===null||S===void 0||S.call(e,l))}function v(){if(e.trigger==="click"&&!s()){w(),_();const l=!d();p(l)}}function A(l){e.internalTrapFocus&&l.key==="Escape"&&(w(),_(),p(!1))}function O(l){o.value=l}function c(){var l;return(l=n.value)===null||l===void 0?void 0:l.targetRef}function k(l){g=l}return Q("NPopover",{getTriggerElement:c,handleKeydown:A,handleMouseEnter:R,handleMouseLeave:W,handleClickOutside:ae,handleMouseMoveOutside:j,setBodyInstance:k,positionManuallyRef:b,isMountedRef:r,zIndexRef:Z(e,"zIndex"),extraClassRef:Z(e,"internalExtraClass"),internalRenderBodyRef:Z(e,"internalRenderBody")}),Qe(()=>{a.value&&s()&&p(!1)}),{binderInstRef:n,positionManually:b,mergedShowConsideringDisabledProp:i,uncontrolledShow:o,mergedShowArrow:u,getMergedShow:d,setShow:O,handleClick:v,handleMouseEnter:R,handleMouseLeave:W,handleFocus:N,handleBlur:E,syncPosition:T}},render(){var e;const{positionManually:r,$slots:n}=this;let t,o=!1;if(!r&&(t=Mr(n,"trigger"),t)){t=Ur(t),t=t.type===kr?$("span",[t]):t;const a={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=t.type)===null||e===void 0)&&e.__popover__)o=!0,t.props||(t.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),t.props.internalSyncTargetWithParent=!0,t.props.internalInheritedEventHandlers?t.props.internalInheritedEventHandlers=[a,...t.props.internalInheritedEventHandlers]:t.props.internalInheritedEventHandlers=[a];else{const{internalInheritedEventHandlers:i}=this,s=[a,...i],d={onBlur:f=>{s.forEach(u=>{u.onBlur(f)})},onFocus:f=>{s.forEach(u=>{u.onFocus(f)})},onClick:f=>{s.forEach(u=>{u.onClick(f)})},onMouseenter:f=>{s.forEach(u=>{u.onMouseenter(f)})},onMouseleave:f=>{s.forEach(u=>{u.onMouseleave(f)})}};Ot(t,i?"nested":r?"manual":this.trigger,d)}}return $(Fr,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const a=this.getMergedShow();return[this.internalTrapFocus&&a?Ve($("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[Br,{enabled:a,zIndex:this.zIndex}]]):null,r?null:$(Lr,null,{default:()=>t}),$($t,Ir(this.$props,At,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:a})),{default:()=>{var i,s;return(s=(i=this.$slots).default)===null||s===void 0?void 0:s.call(i)},header:()=>{var i,s;return(s=(i=this.$slots).header)===null||s===void 0?void 0:s.call(i)},footer:()=>{var i,s;return(s=(i=this.$slots).footer)===null||s===void 0?void 0:s.call(i)}})]}})}});export{Mt as N,ve as f,_t as p,Xr as u};
